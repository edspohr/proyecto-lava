<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tablero Proyecto LAVA</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f3f4f6;
        }
        /* Animaci贸n de Lava */
        @keyframes flow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .lava-gradient {
            background: linear-gradient(270deg, #ff4d00, #ff8c00, #ff2600);
            background-size: 200% 200%;
            animation: flow 3s ease infinite;
            box-shadow: 0 0 20px rgba(255, 69, 0, 0.6);
        }
        .lava-text {
            background: -webkit-linear-gradient(#ff4d00, #cc2e00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Efecto de burbujas subiendo */
        @keyframes bubble {
            0% { bottom: -10px; opacity: 0; transform: translateX(0); }
            50% { opacity: 1; }
            100% { bottom: 100%; opacity: 0; transform: translateX(10px); }
        }
        .bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Datos de ejemplo (Estos se conectar铆an a tu Google Sheet en una versi贸n avanzada)
        const initialData = {
            pi: {
                total: 65,
                breakdown: [
                    { label: "Ejecuci贸n Programada", val: 80 },
                    { label: "Esperando Cliente", val: 40 },
                    { label: "Gesti贸n de Cierre/Baja", val: 90 },
                    { label: "Gesti贸n Interna / Admin", val: 50 }
                ]
            },
            ar: {
                total: 45,
                breakdown: [
                    { label: "Ejecuci贸n Programada", val: 30 },
                    { label: "Esperando Cliente", val: 60 },
                    { label: "Gesti贸n de Cierre/Baja", val: 20 },
                    { label: "Gesti贸n Interna / Admin", val: 70 }
                ]
            }
        };

        const LavaBar = ({ percentage, label }) => {
            return (
                <div className="flex flex-col items-center flex-1 z-10 group h-full justify-end">
                    <div className="mb-4 text-center">
                        <div className="text-4xl md:text-5xl font-black text-blue-900 drop-shadow-sm">{label}</div>
                    </div>
                    
                    {/* Contenedor del tubo */}
                    <div className="relative w-full max-w-[200px] h-[85%] bg-gray-800/80 rounded-t-2xl rounded-b-lg overflow-hidden border-4 border-gray-700 shadow-2xl ring-4 ring-black/10">
                        {/* Fondo del tubo */}
                        <div className="absolute inset-0 bg-gray-900 opacity-50"></div>
                        
                        {/* L铆quido de Lava */}
                        <div 
                            className="absolute bottom-0 left-0 right-0 lava-gradient transition-all duration-1000 ease-out flex items-start justify-center pt-4"
                            style={{ height: `${percentage}%` }}
                        >
                            {/* Burbujas decorativas */}
                            <div className="bubble w-2 h-2 left-1/4 animate-[bubble_2s_infinite]"></div>
                            <div className="bubble w-3 h-3 left-1/2 animate-[bubble_3s_infinite_0.5s]"></div>
                            <div className="bubble w-1 h-1 left-3/4 animate-[bubble_2.5s_infinite_1s]"></div>

                            <span className="text-white font-black text-3xl drop-shadow-md tracking-wider">{percentage}%</span>
                        </div>
                        
                        {/* Marcas de regla (cada 25%) */}
                        <div className="absolute inset-0 flex flex-col justify-between pointer-events-none p-0">
                            {[100, 75, 50, 25, 0].map((mark) => (
                                <div key={mark} className="w-full border-t border-white/20 h-0 flex items-center relative">
                                    {mark > 0 && mark < 100 && <span className="absolute right-2 text-xs text-white/30 font-mono">-{mark}%</span>}
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [data, setData] = useState(initialData);

            return (
                <div className="min-h-screen flex flex-col bg-gray-50">
                    {/* Header con Logo */}
                    <header className="bg-white shadow-sm py-4 px-6 md:px-12 flex justify-between items-center z-20 relative">
                        <div className="h-12 md:h-16">
                            {/* Logo path as requested */}
                            <img src="img/logo.png" alt="SPI Logo" className="h-full object-contain" onError={(e) => {e.target.style.display='none'; e.target.parentElement.innerHTML='<span class=\'text-2xl font-bold text-blue-900\'>SPI</span>'}} />
                        </div>
                        <div className="text-right hidden md:block">
                            <h2 className="text-sm text-gray-500 uppercase tracking-widest font-semibold">Iniciativa de Depuraci贸n</h2>
                            <h1 className="text-xl font-bold text-blue-900">PROYECTO LAVA</h1>
                        </div>
                    </header>

                    {/* Hero Banner - Altura Aumentada */}
                    <div className="relative w-full h-[400px] md:h-[500px] bg-gray-900 overflow-hidden shadow-md">
                        {/* Banner image path as requested */}
                        <img src="img/banner.jpg" alt="Proyecto Lava Banner" className="w-full h-full object-cover opacity-90" onError={(e) => {e.target.src='https://images.unsplash.com/photo-1461695008572-c7929d385d34?q=80&w=2000&auto=format&fit=crop'}} />
                        <div className="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent flex flex-col justify-end pb-12 px-6 md:px-12">
                            <h1 className="text-5xl md:text-7xl font-extrabold text-white mb-4 drop-shadow-2xl tracking-tight">
                                <span className="text-orange-500">P</span>ROYECTO <span className="text-orange-500">LAVA</span>
                            </h1>
                            <p className="text-gray-100 text-xl md:text-2xl max-w-3xl font-light border-l-4 border-orange-500 pl-4">
                                Limpia, Acelera, Valida y Avanza: <br/>
                                <span className="font-semibold text-orange-400">Todos juntos hacia la meta del 100%.</span>
                            </p>
                        </div>
                    </div>

                    <main className="flex-grow container mx-auto px-4 py-8 max-w-6xl">
                        
                        {/* Intro y Enlaces - CON ESPACIO (Margin Top a帽adido, transform eliminado) */}
                        <div className="mt-12 bg-white rounded-xl p-8 shadow-md border border-gray-100 mb-16 relative overflow-hidden">
                            <div className="absolute top-0 left-0 w-2 h-full bg-orange-500"></div>
                            <div className="flex flex-col md:flex-row gap-8 items-center">
                                <div className="flex-1">
                                    <h3 className="text-3xl font-bold text-gray-800 mb-3"> 隆Bienvenidos al Desaf铆o!</h3>
                                    <p className="text-gray-600 text-lg leading-relaxed mb-6">
                                        El objetivo es claro: lograr el <strong>100% de gesti贸n</strong> en todas las OTAS antes del <strong>18 de diciembre</strong>. 
                                        Este tablero nos muestra qu茅 tan cerca estamos de ganarnos esos d铆as libres <strong>como equipo</strong>.
                                    </p>
                                    <div className="flex flex-wrap gap-4">
                                        <a href="https://docs.google.com/document/d/186s5qHLit_swlxydqu-x12w-7kOIULVGmbFfKyzvIiw/edit?usp=sharing" target="_blank" className="inline-flex items-center px-8 py-4 bg-blue-900 text-white font-semibold rounded-lg hover:bg-blue-800 transition shadow-lg hover:-translate-y-1 transform duration-200">
                                            <i className="fas fa-file-alt mr-2"></i>
                                            Ver Instrucciones y Reglas
                                        </a>
                                        <div className="flex items-center text-gray-500 bg-gray-50 px-6 py-4 rounded-lg border border-gray-200">
                                            <i className="fas fa-comment-dots text-orange-500 mr-3 text-xl"></i>
                                            <span>Dudas en los comentarios del Doc</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* SECCIN DE AVANCE TOTAL (GRFICA PROTAGNICA) */}
                        <div className="mb-20">
                            <h2 className="text-4xl font-black text-center mb-12 text-gray-800 tracking-tight">
                                <i className="fas fa-fire text-orange-600 mr-2 animate-pulse"></i> 
                                NIVEL DE LAVA
                            </h2>
                            
                            {/* Contenedor Gr谩fico Grande */}
                            <div className="relative w-full max-w-4xl mx-auto h-[600px] bg-gradient-to-b from-gray-100 to-gray-200 rounded-3xl p-8 md:p-12 border border-gray-300 shadow-2xl flex justify-center items-end gap-16 md:gap-32 overflow-hidden">
                                
                                {/* Decoraci贸n de fondo */}
                                <div className="absolute inset-0 opacity-10" style={{backgroundImage: 'url("https://www.transparenttextures.com/patterns/cubes.png")'}}></div>
                                <div className="absolute top-0 left-0 right-0 h-16 bg-gradient-to-b from-green-100/50 to-transparent z-0 flex items-center justify-center">
                                    <span className="text-green-600/30 font-black text-6xl tracking-[1em] uppercase opacity-20 absolute top-2">META</span>
                                </div>
                                <div className="absolute top-12 left-0 right-0 border-t-4 border-dashed border-green-500/30 z-0 flex justify-center">
                                    <span className="bg-green-100 text-green-700 px-3 py-1 rounded-b-lg text-sm font-bold shadow-sm">META 100%</span>
                                </div>

                                {/* Barras Protagonistas */}
                                <LavaBar percentage={data.pi.total} label="PI" />
                                <LavaBar percentage={data.ar.total} label="AR" />

                            </div>
                        </div>

                        {/* TABLA DE DETALLES */}
                        <div className="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
                            <div className="bg-gradient-to-r from-blue-900 to-blue-800 p-6 flex justify-between items-center">
                                <h3 className="text-xl text-white font-bold flex items-center">
                                    <i className="fas fa-list-ul mr-3"></i> Detalle por Grupo de Gesti贸n
                                </h3>
                                <span className="bg-blue-700/50 text-blue-100 px-3 py-1 rounded-full text-xs font-mono">
                                    Ult. Actualizaci贸n: Hoy
                                </span>
                            </div>
                            
                            <div className="overflow-x-auto">
                                <table className="w-full min-w-[700px]">
                                    <thead>
                                        <tr className="bg-gray-50 border-b border-gray-200">
                                            <th className="px-6 py-5 text-left text-sm font-bold text-gray-700 w-1/3 tracking-wider">GRUPO DE ACCIN</th>
                                            <th className="px-6 py-5 text-left text-sm font-bold text-gray-700 w-1/3 tracking-wider">RESULTADO REQUERIDO</th>
                                            <th className="px-6 py-5 text-center text-sm font-bold text-blue-900 w-1/6 tracking-wider">PI %</th>
                                            <th className="px-6 py-5 text-center text-sm font-bold text-blue-900 w-1/6 tracking-wider">AR %</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y divide-gray-100">
                                        {data.pi.breakdown.map((item, index) => {
                                            const arItem = data.ar.breakdown[index];
                                            const resultados = [
                                                "Fecha concreta",
                                                "3 contactos o respuesta",
                                                "Fecha concreta / Radicaci贸n / Baja",
                                                "Fecha concreta / Radicaci贸n / Baja"
                                            ];
                                            
                                            return (
                                                <tr key={index} className="hover:bg-orange-50 transition-colors duration-150">
                                                    <td className="px-6 py-5 text-sm font-semibold text-gray-800">
                                                        {item.label}
                                                    </td>
                                                    <td className="px-6 py-5 text-sm text-gray-500">
                                                        {resultados[index]}
                                                    </td>
                                                    <td className="px-6 py-5">
                                                        <div className="flex items-center justify-center gap-3">
                                                            <div className="flex-1 h-3 bg-gray-100 rounded-full overflow-hidden max-w-[100px] border border-gray-200 shadow-inner">
                                                                <div className="h-full bg-gradient-to-r from-orange-400 to-orange-600 rounded-full" style={{width: `${item.val}%`}}></div>
                                                            </div>
                                                            <span className="text-sm font-bold text-gray-700 w-8">{item.val}%</span>
                                                        </div>
                                                    </td>
                                                    <td className="px-6 py-5">
                                                        <div className="flex items-center justify-center gap-3">
                                                            <div className="flex-1 h-3 bg-gray-100 rounded-full overflow-hidden max-w-[100px] border border-gray-200 shadow-inner">
                                                                <div className="h-full bg-gradient-to-r from-orange-400 to-orange-600 rounded-full" style={{width: `${arItem.val}%`}}></div>
                                                            </div>
                                                            <span className="text-sm font-bold text-gray-700 w-8">{arItem.val}%</span>
                                                        </div>
                                                    </td>
                                                </tr>
                                            );
                                        })}
                                        
                                        {/* Fila de Totales */}
                                        <tr className="bg-orange-50/50 border-t-2 border-orange-100">
                                            <td className="px-6 py-6 text-lg font-extrabold text-gray-900 uppercase tracking-tight">
                                                Avance Total
                                            </td>
                                            <td className="px-6 py-6"></td>
                                            <td className="px-6 py-6 text-center">
                                                <span className="inline-block px-5 py-2 rounded-xl bg-white text-orange-600 font-black border-2 border-orange-100 shadow-sm text-lg">
                                                    {data.pi.total}%
                                                </span>
                                            </td>
                                            <td className="px-6 py-6 text-center">
                                                <span className="inline-block px-5 py-2 rounded-xl bg-white text-orange-600 font-black border-2 border-orange-100 shadow-sm text-lg">
                                                    {data.ar.total}%
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </main>

                    <footer className="bg-gray-900 text-white py-12 text-center border-t-4 border-orange-600">
                        <div className="container mx-auto px-4">
                            <h4 className="text-2xl font-bold mb-2">PROYECTO LAVA</h4>
                            <p className="text-gray-400 text-sm mb-6">SPI Americas 漏 2025</p>
                            <div className="inline-block bg-gray-800 rounded-lg px-6 py-3 text-gray-300 text-sm border border-gray-700">
                                <i className="fas fa-trophy text-yellow-500 mr-2"></i>
                                Recuerda: <strong>El premio es para todos</strong> si llegamos a la meta.
                            </div>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
